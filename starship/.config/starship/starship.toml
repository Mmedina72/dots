# Minimalist Starship Config
# Clean prompt with useful context-aware features

format = """
$directory\
$git_branch\
$git_status\
$git_state\
$python\
$nodejs\
$rust\
$golang\
$docker_context\
$kubernetes\
$cmd_duration\
$line_break\
$character"""

add_newline = true

# ===== Core Modules =====

[directory]
style = 'bold cyan'
format = '[$path]($style)[$read_only]($read_only_style) '
truncation_length = 4
truncation_symbol = '…/'
truncate_to_repo = true
read_only = ' 󰌾'
read_only_style = 'red'
home_symbol = '~'

[directory.substitutions]
'Documents' = '󰈙 Documents'
'Downloads' = '󰇚 Downloads'
'Desktop' = '󰇄 Desktop'
'Pictures' = '󰋩 Pictures'
'Music' = '󰝚 Music'
'Videos' = '󰕧 Videos'
'projects' = '󰲋 projects'
'dots' = ' dots'
'work' = '󰒍 work'
'.config' = ' config'

[character]
success_symbol = '[❯](bold green)'
error_symbol = '[❯](bold red)'
vimcmd_symbol = '[❮](bold purple)'

# ===== Git =====

[git_branch]
style = 'bold purple'
symbol = ' '
format = '[$symbol$branch]($style) '
truncation_length = 25
truncation_symbol = '…'

[git_status]
format = '([$all_status$ahead_behind]($style) )'
style = 'bold'
conflicted = '[!](bold red)'
ahead = '[⇡${count}](green)'
behind = '[⇣${count}](yellow)'
diverged = '[⇕${count}](red)'
untracked = '[?${count}](blue)'
stashed = '[*${count}](cyan)'
modified = '[~${count}](yellow)'
staged = '[+${count}](green)'
renamed = '[»${count}](cyan)'
deleted = '[-${count}](red)'
ignore_submodules = true

[git_state]
style = 'bold yellow'
format = '\([$state( $progress_current/$progress_total)]($style)\) '
rebase = 'REBASING'
merge = 'MERGING'
revert = 'REVERTING'
cherry_pick = 'PICKING'
bisect = 'BISECTING'

[git_metrics]
disabled = true

[git_commit]
style = 'bold purple'
format = '[$hash$tag]($style) '
commit_hash_length = 7
only_detached = true
tag_symbol = ' 󰓹 '

# ===== Languages (only show when detected) =====

[python]
style = 'bold yellow'
symbol = '󰌠'
format = '[$symbol $version( \($virtualenv\))]($style) '
detect_extensions = ['py']
detect_files = ['requirements.txt', 'pyproject.toml', 'Pipfile', '.python-version']

[nodejs]
style = 'bold green'
symbol = '󰎙'
format = '[$symbol $version]($style) '
detect_extensions = ['js', 'ts', 'mjs', 'cjs']
detect_files = ['package.json', '.nvmrc']

[rust]
style = 'bold #f74c00'
symbol = '󱘗'
format = '[$symbol $version]($style) '

[golang]
style = 'bold cyan'
symbol = '󰟓'
format = '[$symbol $version]($style) '

[lua]
style = 'bold blue'
symbol = '󰢱'
format = '[$symbol $version]($style) '

[ruby]
style = 'bold red'
symbol = '󰴭'
format = '[$symbol $version]($style) '

[java]
style = 'bold #f89820'
symbol = '󰬷'
format = '[$symbol $version]($style) '

[c]
style = 'bold #599eff'
symbol = '󰙲'
format = '[$symbol $version]($style) '

[swift]
style = 'bold #f05138'
symbol = '󰛥'
format = '[$symbol $version]($style) '

[kotlin]
style = 'bold #7f52ff'
symbol = '󱈙'
format = '[$symbol $version]($style) '

[php]
style = 'bold #777bb4'
symbol = '󰌟'
format = '[$symbol $version]($style) '

[haskell]
disabled = true

[conda]
disabled = true

[package]
disabled = true

# ===== DevOps (only show when relevant) =====

[docker_context]
symbol = ' '
style = 'blue'
format = '[$symbol$context]($style) '
only_with_files = true
detect_files = ['docker-compose.yml', 'docker-compose.yaml', 'Dockerfile', 'compose.yml', 'compose.yaml']

[kubernetes]
style = 'blue'
symbol = '󰠳 '
format = '[$symbol$context]($style) '
disabled = false
detect_files = ['k8s.yaml', 'k8s.yml', 'kustomization.yaml']
detect_folders = ['k8s', '.kube', 'kubernetes', 'helm']
detect_env_vars = ['KUBECONFIG']

[terraform]
disabled = true

[aws]
disabled = true

# ===== Utilities =====

[cmd_duration]
min_time = 3_000
style = 'yellow'
format = '[took $duration]($style) '
show_milliseconds = false

[jobs]
symbol = '+'
style = 'blue'
format = '[$symbol$number]($style) '
number_threshold = 1

[status]
style = 'red'
symbol = '✘ '
format = '[$symbol$status]($style) '
disabled = false
map_symbol = true

# ===== SSH/Remote (only show when connected) =====

[username]
style_user = 'yellow'
style_root = 'bold red'
format = '[$user]($style)@'
show_always = false

[hostname]
style = 'green'
ssh_only = true
format = '[$hostname]($style) '

[localip]
disabled = true

[shlvl]
disabled = true

# ===== Disabled =====

[os]
disabled = true

[sudo]
disabled = true

[battery]
disabled = true

[time]
disabled = true

[fill]
disabled = true
